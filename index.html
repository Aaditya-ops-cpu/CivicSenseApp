<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Civic Sense Guide & Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --background: whitesmoke;
            --card: white;
            --primary: indigo;
            --primary-hover: darkblue;
            --secondary: ghostwhite;
            --secondary-hover: lightgray;
            --text-primary: darkslategray;
            --text-secondary: slategray;
            --border: lightgray;
            --correct-bg: honeydew;
            --correct-border: mediumseagreen;
            --correct-text: darkgreen;
            --incorrect-bg: mistyrose;
            --incorrect-border: lightcoral;
            --incorrect-text: darkred;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background);
            color: var(--text-primary);
        }
        .card {
            background-color: var(--card);
            border-radius: 1.5rem;
            padding: 2.5rem;
            border: 1px solid var(--border);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
            max-width: 900px;
            width: 95%;
            margin: 2.5rem auto;
        }
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 0.75rem 1.75rem;
            border-radius: 0.75rem;
            font-weight: 600;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            border: 1px solid transparent;
            user-select: none;
        }
        .btn-primary { background-color: var(--primary); color: white; }
        .btn-primary:hover { background-color: var(--primary-hover); }
        .btn-secondary { background-color: var(--secondary); color: var(--text-primary); border: 1px solid var(--border); }
        .btn-secondary:hover { background-color: var(--secondary-hover); }
        .option-btn {
            display: block; width: 100%; border: 1px solid var(--border); color: var(--text-primary);
            background-color: var(--card); text-align: left; padding: 0.875rem 1.25rem; border-radius: 0.75rem;
        }
        .option-btn:hover { background-color: var(--secondary); border-color: var(--primary); }
        .option-btn.correct { background-color: var(--correct-bg); border-color: var(--correct-border); color: var(--correct-text); font-weight: 700; }
        .option-btn.incorrect { background-color: var(--incorrect-bg); border-color: var(--incorrect-border); color: var(--incorrect-text); font-weight: 700; }
        
        .screen { display: none; animation: fadeIn 0.5s; }
        .screen.active { display: block; }
        
        .progress-bar-container { width: 100%; background-color: var(--secondary); border-radius: 9999px; height: 0.5rem; overflow: hidden; }
        .progress-bar { background-color: var(--primary); height: 100%; border-radius: 9999px; transition: width 0.4s ease-in-out; }
        
        .prose h3 { font-size: 1.5rem; font-weight: 700; margin-top: 0; margin-bottom: 1rem; }
        .prose p, .prose li { color: var(--text-secondary); line-height: 1.75; margin-bottom: 1rem; }
        .prose ul { list-style-type: disc; padding-left: 1.5rem; }
        .prose strong { color: var(--text-primary); font-weight: 600; }

        .country-card {
            border: 1px solid var(--border); border-radius: 1rem; padding: 1.5rem;
            text-align: center; cursor: pointer; transition: all 0.2s ease-in-out;
            background-color: var(--card);
        }
        .country-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.07), 0 4px 6px -4px rgb(0 0 0 / 0.07); border-color: var(--primary); }
        .country-card .flag-icon { width: 64px; height: 48px; margin: 0 auto 1rem; border-radius: 0.25rem; box-shadow: 0 0 0 1px rgba(0,0,0,0.05); object-fit: cover; }
        .country-card span { font-weight: 600; font-size: 1.125rem; }

        .nav-pane { max-height: 400px; overflow-y: auto; }
        .nav-pane button {
            display: block; width: 100%; text-align: left; padding: 0.75rem 1rem;
            border-radius: 0.5rem; font-weight: 500; color: var(--text-secondary);
            border-left: 3px solid transparent;
        }
        .nav-pane button.active {
            background-color: var(--secondary); color: var(--primary);
            font-weight: 700; border-left: 3px solid var(--primary);
        }
        .nav-pane button:hover:not(.active) { background-color: var(--secondary); }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="min-h-screen">

    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <img src="https://img.icons8.com/fluency-systems-regular/96/4f46e5/globe.png" alt="Globe Icon" class="w-7 h-7">
                <h1 class="text-2xl font-bold text-gray-800">Global Citizen Guide</h1>
            </div>
            <button id="home-btn" class="btn btn-secondary hidden">Home</button>
        </div>
    </header>

    <main id="app-container" class="w-full">
        <div id="home-screen" class="screen active">
            <div class="min-h-[calc(100vh-65px)] flex items-center bg-gradient-to-br from-indigo-50 via-white to-sky-100">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full">
                    <div class="grid md:grid-cols-2 gap-12 items-center">
                        <div class="text-center md:text-left">
                            <h2 class="text-4xl md:text-5xl lg:text-6xl font-extrabold text-gray-900 leading-tight">
                                Become a
                                <span class="bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-sky-500">
                                    Confident Global Citizen
                                </span>
                            </h2>
                            <p class="mt-6 text-lg text-gray-600 max-w-xl mx-auto md:mx-0">
                                Navigate the nuances of international customs with ease. Our in-depth guides and quizzes prepare you for a respectful and enriching journey.
                            </p>
                            <div class="mt-10">
                                <button id="start-btn" class="btn btn-primary text-lg px-8 py-3 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300">
                                    Start Exploring
                                    <img src="https://img.icons8.com/ios/50/ffffff/long-arrow-right.png" alt="Arrow Icon" class="ml-2 w-6 h-6">
                                </button>
                            </div>
                        </div>
                        <div class="hidden md:block">
                           <img src="https://images.pexels.com/photos/2249063/pexels-photo-2249063.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" 
                                alt="A person holding a globe with a map and compass in the background" 
                                class="rounded-3xl shadow-2xl object-cover h-full w-full aspect-square">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="country-selection-screen" class="screen">
            <div class="card text-center">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">Choose a Country</h2>
                <p class="text-gray-600 mb-8">Select a country to learn about its culture and civic sense.</p>
                <div id="country-buttons" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5">
                </div>
            </div>
        </div>

        <div id="guidance-screen" class="screen">
            <div class="card">
                <h2 id="guidance-title" class="text-4xl font-bold text-gray-900 mb-6 text-center border-b pb-4"></h2>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <div id="guidance-nav" class="nav-pane md:col-span-1 border-r pr-4">
                    </div>
                    <div id="guidance-content" class="prose max-w-none md:col-span-3">
                    </div>
                </div>
                <div class="mt-10 pt-6 border-t flex flex-col sm:flex-row justify-between items-center gap-4">
                    <button id="back-to-countries-btn" class="btn btn-secondary">← Back to Countries</button>
                    <button id="start-country-quiz-btn" class="btn btn-primary">Take the Quiz →</button>
                </div>
            </div>
        </div>

        <div id="quiz-screen" class="screen">
             <div class="card">
                <h2 id="quiz-title" class="text-2xl font-bold text-center text-gray-800 mb-6"></h2>
                <div class="flex justify-between items-center mb-4">
                    <p class="text-sm font-semibold text-gray-600">Question <span id="question-number"></span>/15</p>
                    <p class="text-sm font-semibold text-indigo-600">Score: <span id="score">0</span></p>
                </div>
                <div class="progress-bar-container mb-6">
                    <div id="progress-bar" class="progress-bar" style="width: 0%;"></div>
                </div>
                <h3 id="question-text" class="text-xl font-semibold text-gray-900 mb-6 min-h-[5rem]"></h3>
                <div id="options-container" class="space-y-3"></div>
                <p id="feedback-text" class="text-center mt-4 font-medium h-6"></p>
                <div class="flex justify-end mt-6">
                    <button id="next-question-btn" class="btn btn-primary hidden">Next →</button>
                </div>
            </div>
        </div>
        <div id="results-screen" class="screen">
            <div class="card text-center">
                <h2 class="text-3xl font-bold text-gray-800 mb-2">Quiz Complete!</h2>
                <p id="results-quiz-title" class="text-lg text-gray-600 mb-6"></p>
                <p class="text-6xl font-bold text-indigo-600 mb-4" id="final-score"></p>
                <p class="text-xl font-medium text-gray-700 mb-8" id="result-message"></p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <button id="restart-quiz-btn" class="btn btn-primary">Try This Quiz Again</button>
                    <button id="back-to-selection-btn" class="btn btn-secondary">Choose Another Country</button>
                </div>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const countryLogos = {
                'France': `<img src="https://flagcdn.com/fr.svg" alt="Flag of France" class="flag-icon">`,
                'Spain': `<img src="https://flagcdn.com/es.svg" alt="Flag of Spain" class="flag-icon">`,
                'United States': `<img src="https://flagcdn.com/us.svg" alt="Flag of United States" class="flag-icon">`,
                'China': `<img src="https://flagcdn.com/cn.svg" alt="Flag of China" class="flag-icon">`,
                'Italy': `<img src="https://flagcdn.com/it.svg" alt="Flag of Italy" class="flag-icon">`,
                'Turkey': `<img src="https://flagcdn.com/tr.svg" alt="Flag of Turkey" class="flag-icon">`,
                'Australia': `<img src="https://flagcdn.com/au.svg" alt="Flag of Australia" class="flag-icon">`,
                'United Kingdom': `<img src="https://flagcdn.com/gb.svg" alt="Flag of United Kingdom" class="flag-icon">`
            };
            const detailedCivicData = {
                'France': {
                    title: 'Civic Sense in France',
                    content: {
                        'Greetings & Formality': `<p>Politeness is the absolute cornerstone of French social interaction. It is not merely a pleasantry but a required social lubricant. <strong>Always greet and say goodbye.</strong> A simple "Bonjour" (Good day) upon entering any establishment—a shop, café, doctor's waiting room, or even an elevator—is essential. Failing to do so is seen as extremely rude. When leaving, always say "Au revoir" (Goodbye). After dusk, "Bonsoir" (Good evening) replaces "Bonjour".</p><p>Addressing people correctly is also vital. Use "Madame" for women, "Monsieur" for men. "Mademoiselle" for young women is becoming less common and can be seen as dated or even slightly sexist; "Madame" is a safer default. The distinction between the formal "vous" (you) and informal "tu" (you) is critical. As a visitor, <strong>always default to "vous"</strong> with strangers, anyone older than you, and in all professional or commercial settings. Using "tu" without being invited to is overly familiar and can cause offense. You will know it's okay to use "tu" if a French person starts using it with you, or explicitly says "on peut se tutoyer" (we can use "tu" with each other).</p>`,
                        'Dining Etiquette': `<p>Meals are cherished, often lengthy, social rituals. When dining at someone's home, it's polite to arrive about 15 minutes late. Punctuality is for business, not social dinners. When dining in a restaurant, wait for your host or the eldest person to say "Bon appétit" before you begin eating. It's customary to <strong>keep both hands visible on the table,</strong> with wrists resting on the edge—never in your lap. Bread is not served with a side plate; you place it directly on the tablecloth next to your plate. Use it to accompany your food, but do not use it to mop up sauces until the very end of the dish, if at all. When you finish, place your knife and fork parallel on the plate at the 4 o'clock position.</p><p>Tipping is not obligatory in the same way as in the US. A service charge of 15% ("service compris") is legally included in the bill. However, for good service, it is customary to leave a small extra amount (a few euros in coins) on the table. This is called a "pourboire" (literally, "for a drink").</p>`,
                        'Public Conduct': `<p>The French generally value discretion and calm in public spaces. <strong>Speaking loudly on mobile phones,</strong> especially in the confined spaces of a bus or the Métro, is considered very rude. If you must take a call, be brief and quiet. Similarly, loud conversations among your group will attract negative attention. Maintain a low volume in museums, churches, and restaurants. Queuing is expected and respected; do not push or cut in line. On escalators, particularly in the Paris Métro, it is a strict and non-negotiable rule to <strong>stand on the right</strong> to allow those in a hurry to walk on the left. Blocking the left side will earn you audible sighs and pointed comments.</p>`,
                        'Dress Code & Appearance': `<p>The French, particularly in cities like Paris, place a high value on appearance. This doesn't necessarily mean expensive clothes, but rather being well-put-together, neat, and stylish. For evening meals at a nice restaurant, smart casual is the minimum. Avoid wearing athletic wear, shorts, or flip-flops for anything other than their intended purpose (sports or the beach). Even for casual sightseeing, opting for smart trousers or a skirt over jogging bottoms will help you blend in more. When visiting religious buildings, ensure your shoulders and knees are covered.</p>`,
                        'Business Etiquette': `<p>Punctuality is absolutely expected in business settings; being late is a sign of disrespect. Handshakes are the standard greeting for both men and women—a quick, firm grip. Business cards are exchanged after the initial introductions. The French appreciate well-reasoned, logical arguments and intellectual debate. Business meetings can be more about discussion and exchanging viewpoints than immediate decision-making. Decisions are often made by the highest-ranking person in a hierarchical structure, so be patient. Building a personal relationship is often a prerequisite for doing business.</p>`,
                        'Cultural Context': `<ul><li><strong>Laïcité (Secularism):</strong> France has a very strict form of secularism. Religion is considered a private matter. Avoid wearing conspicuous religious symbols in government buildings and public schools.</li><li><strong>Strikes (Grèves):</strong> Strikes are a common part of French life and are seen as a legitimate way to express dissent. Be prepared for potential disruptions to transport and services, and check news updates if you are traveling during a strike period.</li><li><strong>Helpful Phrase:</strong> "Je ne comprends pas" (I don't understand). It's better to admit you don't understand than to nod along incorrectly.</li></ul>`,
                    }
                },
                'Spain': {
                    title: 'Civic Sense in Spain',
                    content: {
                        'Social Culture': `<p>Spain boasts a vibrant, sociable, and often loud culture. Don't mistake passionate, expressive conversations for arguments; animated discussion with gestures is the norm. Greetings are warm and tactile. Friends and family often exchange <strong>"dos besos" (two kisses), starting with the right cheek then the left.</strong> In professional or new settings, a firm handshake is standard. It's polite to say "Hola" upon meeting, and "Adiós" or the more common "Hasta luego" (see you later) when leaving. In shops, a simple "Buenos días" (Good morning) or "Buenas tardes" (Good afternoon) is expected.</p>`,
                        'Meal Times & Siesta': `<p>Spanish schedules can be a shock to visitors. <strong>Lunch ("la comida") is the main meal of the day,</strong> typically a multi-course affair eaten between 2:00 PM and 4:00 PM. Dinner ("la cena") is much lighter and served very late, usually after 9:00 PM or even 10:00 PM. Many businesses, especially smaller, family-run shops outside major tourist centers, close for a <strong>"siesta"</strong> in the afternoon (approximately 2-5 PM). While this is less common in large corporations and big cities like Madrid and Barcelona, the rhythm of life still slows down significantly in the afternoon.</p>`,
                        'Tapas & Dining': `<p>Tapas culture is a core part of Spanish social life. It's not just about food; it's a social event. It's common to stand at the bar, have one or two tapas and a drink, and then move on to the next bar ("ir de tapas"). Tipping is not as ingrained as in other countries. It is common to round up the bill or leave a small amount of change (a euro or two) for good service, but a 15-20% tip is not expected. Don't rush your meals. The "sobremesa," or time spent talking at the table after a meal has finished, is a cherished tradition and can last for hours.</p>`,
                        'Public Behavior': `<p>Spaniards are generally relaxed about noise, and public life often unfolds in the streets, squares, and cafes. Punctuality is flexible for social engagements; arriving 15-20 minutes late for a dinner party is normal and expected. However, for official appointments, transport, or business meetings, you should be on time. It's considered rude to be barefoot anywhere other than a beach or pool. Yawning or stretc
